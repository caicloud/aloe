summary: "CRUD Test example"
presetter:
- name: requestHeader
  args:
    content-type: "application/json"
validatedFlow:
- constructor:
  - description: "Create a product"
    request:
      api: POST /products
      body: |
        {
          "id": "1",
          "title": "test"
        }
    response:
      statusCode: 201
    definitions:
    - name: "testProduct"
    - name: "testProductId"
      selector:
      - "id"
  validator:
  - description: "Can get the created product"
    request:
      api: GET /products/%{testProductId}
    response:
      statusCode: 200
      body: "%{testProduct}"
