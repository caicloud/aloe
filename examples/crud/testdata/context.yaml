summary: "CRUD Test example"
presetters:
- name: requestHeader
  args:
    content-type: "application/json"
- name: host
  args:
    host: "%{host}"
validatedFlow:
- constructor:
  - description: "Create a product"
    request:
      api: POST /products
      body: |
        {
          "id": "1",
          "title": "test"
        }
    response:
      statusCode: 201
    definitions:
    - name: "testProduct"
    - name: "testProductId"
      selector:
      - "id"
  validator:
  - description: "Can get the created product"
    request:
      api: GET /products/1
    response:
      statusCode: 200
    definitions:
    - name: "testProduct"
    - name: "testProductId"
      selector:
      - "id"
cleaners:
- name: "product"
  args:
    product: "1"
